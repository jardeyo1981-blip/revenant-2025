name: Revenant 2025 â€” LIVE FOREVER

on:
  workflow_dispatch:      # Manual trigger
  schedule:
    - cron: '30 13 * * 1-5'  # 6:30 AM PST every trading day

jobs:
  run-bot:
    runs-on: ubuntu-latest
    timeout-minutes: 1439   # Max 23h59m (GitHub free tier limit)
    steps:
      - uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'

      - name: Install dependencies
        run: pip install -r requirements.txt

      - name: Run bot FOREVER
        run: |
          python revenant_2025_final.py
        env:
          MASSIVE_API_KEY: ${{ secrets.MASSIVE_API_KEY }}
          DISCORD_WEBHOOK_URL: ${{ secrets.DISCORD_WEBHOOK_URL }}
          PYTHONUNBUFFERED: "1"
        timeout-minutes: 1439  # Per-step timeout too
